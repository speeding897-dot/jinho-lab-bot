name: 24ì‹œê°„ ìë™ í¬ë¡¤ë§ ë¡œë´‡

on:
  schedule:
    # ë§¤ì¼ í•œêµ­ ì‹œê°„ ì˜¤ì „ 9ì‹œ (UTC 0ì‹œ)ì— ì‹¤í–‰
    - cron: '0 0 * * *'
  workflow_dispatch: # ìˆ˜ë™ ì‹¤í–‰ ë²„íŠ¼ ì¶”ê°€

permissions:
  contents: write

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: ì €ì¥ì†Œ ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
      uses: actions/checkout@v3

    - name: íŒŒì´ì¬ ì„¤ì¹˜
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
      run: |
        pip install requests beautifulsoup4

    - name: ë¡œë´‡ ì‹¤í–‰ (main.py)
      run: python main.py

    - name: ë³€ê²½ ì‚¬í•­ ì €ì¥ ë° ìë™ ë°°í¬
      run: |
        git config --global user.name "Auto Bot"
        git config --global user.email "bot@noreply.github.com"
        git add .
        git commit -m "ğŸ¤– ì¼ì¼ ì±„ìš©ê³µê³  ì—…ë°ì´íŠ¸ (30ê°œ)" || echo "ë³€ê²½ ì‚¬í•­ ì—†ìŒ"
        git push origin main
